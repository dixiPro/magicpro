import{q as h,x,b as r,o,d as e,e as p,w as g,v as w,h as v,F as V,i as E,l as k,y as S,N as U,r as f,g as C,a2 as y,G as T,m as N,j as $,_ as P,O as q,T as B,P as A,Q as M,R as D,S as L,U as F,V as I,W as O,X as J,Y as K,Z as Q,$ as j}from"./ToastConfirm-Dx9X-4_N.js";import{s as G}from"./index-C-hXeCQ3.js";import{s as R}from"./index-BR_Gqmyn.js";const W=["disabled"],X={key:0},Y={__name:"EditString",props:h({defaultValue:{type:String,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const a=x(t,"modelValue");return(u,l)=>(o(),r(V,null,[e("div",null,[g(e("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":l[0]||(l[0]=s=>a.value=s),disabled:!t.mutable},null,8,W),[[w,a.value]])]),t.mutable?(o(),r("div",X,[e("small",null,v(t.defaultValue),1)])):p("",!0)],64))}},Z={key:0},z={__name:"EditBoolean",props:h({defaultValue:{type:Boolean,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const a=x(t,"modelValue");return(u,l)=>{const s=E("ToggleSwitch");return o(),r(V,null,[e("div",null,[k(s,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=m=>a.value=m),disabled:!t.mutable},null,8,["modelValue","disabled"])]),t.mutable?(o(),r("div",Z,[e("small",null,v(t.defaultValue),1)])):p("",!0)],64)}}},H={style:{display:"inline-block"}},ee={__name:"DeleteButton",props:{action:Function},setup(t){S(()=>{window.addEventListener("keydown",a)}),U(()=>{window.removeEventListener("keydown",a)});function a(c){c.key==="Escape"&&(l.value=!1,s.value=!1)}const u=t,l=f(!1),s=f(!1);async function m(){if(l.value&&s.value){u.action(),l.value=!1,s.value=!1;return}l.value=!0,setTimeout(()=>{s.value=!0},500)}return(c,i)=>(o(),r("div",H,[l.value?(o(),r("button",{key:0,onClick:i[0]||(i[0]=n=>l.value=!l.value),class:"fas fa-times btn btn-sm"})):p("",!0),e("button",{onClick:m,class:"fas fa-trash btn btn-sm"})]))}},te={class:"col-12"},ae={class:"input-group input-group-sm"},le=["onUpdate:modelValue","disabled"],se={class:"row my-1"},ne={class:"col-12"},ue={class:"input-group input-group-sm"},oe=["disabled"],ie={__name:"EditArray",props:h({defaultValue:{type:Array,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const a=x(t,"modelValue");function u(m){a.value.splice(m,1)}function l(){s.value.trim()&&(a.value.push(s.value),s.value="")}const s=f("");return(m,c)=>(o(),r(V,null,[(o(!0),r(V,null,C(a.value,(i,n)=>(o(),r("div",{key:n,class:"row my-1"},[e("div",te,[e("div",ae,[g(e("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":d=>a.value[n]=d,disabled:!t.mutable},null,8,le),[[w,a.value[n]]]),k(ee,{action:()=>u(n)},null,8,["action"])])])]))),128)),e("div",se,[e("div",ne,[e("div",ue,[g(e("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":c[0]||(c[0]=i=>s.value=i),disabled:!t.mutable},null,8,oe),[[w,s.value]]),e("button",{class:"btn btn-sm fas fa-plus pointer",onClick:c[1]||(c[1]=i=>l())})])])])],64))}},re={key:0},de={class:"col-3"},me=["textContent"],ce={style:{"line-height":"1"}},pe=["textContent"],ve={class:"col-md-5"},fe={__name:"Setup",setup(t){const a=f({}),u=f({}),l=f(!1);S(()=>{s()}),U(()=>{});async function s(){a.value=await y({command:"getParamsAttr"}),u.value=await y({command:"getIniParams"}),await T(),l.value=!0}async function m(){await document.confirmDialog("Сохранить?")&&(u.value=await y({command:"saveIniParams",allVars:u.value}),document.showToast("Сохранено"),await s())}return(c,i)=>(o(),r(V,null,[i[1]||(i[1]=e("h1",null,"Setup 1.1",-1)),l.value?(o(),r("div",re,[(o(!0),r(V,null,C(a.value,(n,d)=>(o(),r("div",{class:"row my-3",key:d},[e("div",de,[e("div",null,[e("strong",{textContent:v(d)},null,8,me)]),e("div",ce,[e("small",{textContent:v(n.label)},null,8,pe)])]),e("div",ve,[n.type=="localpath"||n.type=="string"?(o(),$(Y,{key:0,modelValue:u.value[d],"onUpdate:modelValue":b=>u.value[d]=b,defaultValue:n.default,mutable:n.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):p("",!0),n.type=="boolean"?(o(),$(z,{key:1,modelValue:u.value[d],"onUpdate:modelValue":b=>u.value[d]=b,defaultValue:n.default,mutable:n.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):p("",!0),n.type=="array"?(o(),$(ie,{key:2,modelValue:u.value[d],"onUpdate:modelValue":b=>u.value[d]=b,defaultValue:n.default,mutable:n.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):p("",!0)])]))),128)),e("div",{class:"row"},[i[0]||(i[0]=e("div",{class:"col-3"},null,-1)),e("div",{class:"col-md-5"},[e("button",{class:"btn btn-sm btn-success",onClick:m},"Сохранить")])])])):p("",!0),e("pre",null,"      "+v(JSON.stringify(u.value,null,2))+`
      `,1),i[2]||(i[2]=N(" paramsAttr ",-1)),e("pre",null,"      "+v(JSON.stringify(a.value,null,2))+`
      `,1),k(P)],64))}},Ve=[B,A,M,D,L,F,I,O,J,R,G],_=q(fe);Ve.forEach(t=>{_.component(t.name,t)});_.use(K,{theme:{preset:Q,options:{cssLayer:{name:"primevue",order:"theme, base, primevue"}}}});_.use(j);_.use(B);_.mount("#setup");
