import{U as P,V as A,M as T,C as h,l as r,p as n,G as _,F as f,J as C,L as U,q as e,s as p,v as w,x,B as v,r as b,D as $,u as S,ac as B,A as k,X as D,ab as g,n as M,H as N,Y as E,Z as q,_ as L,$ as j,a0 as F,a1 as I,a2 as J,a3 as z,a4 as O,a5 as G,a6 as H,a7 as K,a8 as Q}from"./apiCall-ChufPeuv.js";import{s as X}from"./index-D6EG03uY.js";import{s as Y}from"./index-CUeUjmT6.js";const Z={__name:"ToastConfirm",setup(a){const s=P(),t=A();return T(()=>{document.showToast=(l="",o="success")=>{const i=o==="success"?5e3:6e4;s.add({severity:o,detail:l,life:i}),o==="error"&&console.log(l)},document.confirmDialog=async l=>new Promise((o,i)=>{t.require({message:l,header:"",icon:"fas fa-question",acceptLabel:"Да",rejectLabel:"Нет",accept:()=>o(!0),reject:()=>o(!1)})})}),(l,o)=>{const i=h("Toast"),m=h("ConfirmDialog");return n(),r(f,null,[_(i,{position:"top-right"}),_(m)],64)}}},R=["disabled"],W={key:0},ee={__name:"EditString",props:C({defaultValue:{type:String,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const s=U(a,"modelValue");return(t,l)=>(n(),r(f,null,[e("div",null,[w(e("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":l[0]||(l[0]=o=>s.value=o),disabled:!a.mutable},null,8,R),[[x,s.value]])]),a.mutable?(n(),r("div",W,[e("small",null,v(a.defaultValue),1)])):p("",!0)],64))}},te={key:0},ae={__name:"EditBoolean",props:C({defaultValue:{type:Boolean,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const s=U(a,"modelValue");return(t,l)=>{const o=h("ToggleSwitch");return n(),r(f,null,[e("div",null,[_(o,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=i=>s.value=i),disabled:!a.mutable},null,8,["modelValue","disabled"])]),a.mutable?(n(),r("div",te,[e("small",null,v(a.defaultValue),1)])):p("",!0)],64)}}},le={style:{display:"inline-block","white-space":"nowrap"}},se={__name:"DeleteButtonPrime",props:{action:Function},setup(a){const s=a,t=b(!1);async function l(){if(t.value){s.action(),t.value=!1;return}t.value=!0}return(o,i)=>(n(),r("div",le,[_(S(B),{icon:"pi pi-trash",severity:"secondary",size:"small",onClick:l}),t.value?(n(),$(S(B),{key:0,icon:"pi pi-times",severity:"secondary",size:"small",onClick:i[0]||(i[0]=m=>t.value=!1),class:"mr-1"})):p("",!0)]))}},oe={class:"col-12"},ne={class:"input-group input-group-sm"},ue=["onUpdate:modelValue","disabled"],ie={class:"row my-1"},re={class:"col-12"},de={class:"input-group input-group-sm"},ce=["disabled"],me={__name:"EditArray",props:C({defaultValue:{type:Array,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(a){const s=U(a,"modelValue");function t(i){s.value.splice(i,1)}function l(){s.value.push(o.value),o.value=""}const o=b("");return(i,m)=>(n(),r(f,null,[(n(!0),r(f,null,k(s.value,(d,u)=>(n(),r("div",{key:u,class:"row my-1"},[e("div",oe,[e("div",ne,[w(e("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":c=>s.value[u]=c,disabled:!a.mutable},null,8,ue),[[x,s.value[u]]]),_(se,{action:()=>t(u)},null,8,["action"])])])]))),128)),e("div",ie,[e("div",re,[e("div",de,[w(e("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":m[0]||(m[0]=d=>o.value=d),disabled:!a.mutable},null,8,ce),[[x,o.value]]),e("button",{class:"btn btn-sm fas fa-plus pointer",onClick:m[1]||(m[1]=d=>l())})])])])],64))}},pe={key:0},fe={class:"col-3"},ve=["textContent"],_e={style:{"line-height":"1"}},Ve=["textContent"],be={class:"col-md-5"},ye={__name:"Setup",setup(a){const s=b({}),t=b({}),l=b(!1);T(()=>{o()}),D(()=>{});async function o(){s.value=await g({command:"getParamsAttr"}),t.value=await g({command:"getIniParams"}),await M(),l.value=!0}async function i(){await document.confirmDialog("Сохранить?")&&(l.value=!1,t.value=await g({command:"getIniParams"}),l.value=!0)}return(m,d)=>(n(),r(f,null,[d[1]||(d[1]=e("h1",null,"Setup 0.1",-1)),l.value?(n(),r("div",pe,[(n(!0),r(f,null,k(s.value,(u,c)=>(n(),r("div",{class:"row my-3",key:c},[e("div",fe,[e("div",null,[e("strong",{textContent:v(c)},null,8,ve)]),e("div",_e,[e("small",{textContent:v(u.label)},null,8,Ve)])]),e("div",be,[u.type=="localpath"||u.type=="string"?(n(),$(ee,{key:0,modelValue:t.value[c],"onUpdate:modelValue":V=>t.value[c]=V,defaultValue:u.default,mutable:u.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):p("",!0),u.type=="boolean"?(n(),$(ae,{key:1,modelValue:t.value[c],"onUpdate:modelValue":V=>t.value[c]=V,defaultValue:u.default,mutable:u.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):p("",!0),u.type=="array"?(n(),$(me,{key:2,modelValue:t.value[c],"onUpdate:modelValue":V=>t.value[c]=V,defaultValue:u.default,mutable:u.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):p("",!0)])]))),128)),e("div",{class:"row"},[d[0]||(d[0]=e("div",{class:"col-3"},null,-1)),e("div",{class:"col-md-5"},[e("button",{class:"btn btn-sm btn-success",onClick:i},"Сохранить")])])])):p("",!0),e("pre",null,"      "+v(JSON.stringify(t.value,null,2))+`
      `,1),d[2]||(d[2]=N(" paramsAttr ",-1)),e("pre",null,"      "+v(JSON.stringify(s.value,null,2))+`
      `,1),_(Z)],64))}},$e=[q,L,j,F,I,J,z,O,G,Y,X],y=E(ye);$e.forEach(a=>{y.component(a.name,a)});y.use(H,{theme:{preset:K,options:{cssLayer:{name:"primevue",order:"theme, base, primevue"}}}});y.use(Q);y.use(q);y.mount("#setup");
