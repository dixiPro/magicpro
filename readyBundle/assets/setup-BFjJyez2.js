import{s as x,y as k,b as n,o,w as $,v as g,d as t,j as M,e as v,m as C,g as V,F as y,z as P,K as S,r as f,i as E,u as q,a0 as h,H as A,k as w,f as B,_ as D,L,T,M as N,N as I,O as F,P as K,Q,R as j,S as z,U as H,V as O,W as R,X as W,Y as X}from"./translate-DYXq8MLH.js";import{s as Y}from"./index-DjoaJ7DT.js";import{s as G}from"./index-DIBRef73.js";const J=["disabled"],Z={__name:"EditString",props:x({defaultValue:{type:String,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=k(l,"modelValue");return(d,e)=>(o(),n("div",null,[$(t("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),disabled:!l.mutable},null,8,J),[[g,a.value]])]))}},ee={key:0},te={__name:"EditBoolean",props:x({defaultValue:{type:Boolean,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=k(l,"modelValue");return(d,e)=>{const s=M("ToggleSwitch");return o(),n(y,null,[t("div",null,[C(s,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=i=>a.value=i),disabled:!l.mutable},null,8,["modelValue","disabled"])]),l.mutable?(o(),n("div",ee,[t("small",null,V(l.defaultValue),1)])):v("",!0)],64)}}},ae={style:{display:"inline-block"}},le={__name:"DeleteButton",props:{action:Function},setup(l){P(()=>{window.addEventListener("keydown",a)}),S(()=>{window.removeEventListener("keydown",a)});function a(r){r.key==="Escape"&&(e.value=!1,s.value=!1)}const d=l,e=f(!1),s=f(!1);async function i(){if(e.value&&s.value){d.action(),e.value=!1,s.value=!1;return}e.value=!0,setTimeout(()=>{s.value=!0},500)}return(r,m)=>(o(),n("div",ae,[e.value?(o(),n("button",{key:0,onClick:m[0]||(m[0]=p=>e.value=!e.value),class:"fas fa-times btn btn-sm"})):v("",!0),t("button",{onClick:i,class:"fas fa-trash btn btn-sm"})]))}},se={class:"col-12"},oe={class:"input-group input-group-sm"},ne=["onUpdate:modelValue","disabled"],ue={class:"row my-1"},ie={class:"col-12"},re={class:"input-group input-group-sm"},de=["disabled"],me={__name:"EditArray",props:x({defaultValue:{type:Array,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=k(l,"modelValue");function d(i){a.value.splice(i,1)}function e(){s.value.trim()&&(a.value.push(s.value),s.value="")}const s=f("");return(i,r)=>(o(),n(y,null,[(o(!0),n(y,null,E(a.value,(m,p)=>(o(),n("div",{key:p,class:"row my-1"},[t("div",se,[t("div",oe,[$(t("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":U=>a.value[p]=U,disabled:!l.mutable},null,8,ne),[[g,a.value[p]]]),C(le,{action:()=>d(p)},null,8,["action"])])])]))),128)),t("div",ue,[t("div",ie,[t("div",re,[$(t("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":r[0]||(r[0]=m=>s.value=m),disabled:!l.mutable},null,8,de),[[g,s.value]]),t("button",{class:"btn btn-sm fas fa-plus pointer",onClick:r[1]||(r[1]=m=>e())})])])])],64))}},ce={key:0},pe={class:"col-3"},ve=["textContent"],fe={style:{"line-height":"1"}},_e=["textContent"],be={class:"col-md-5"},Ve={class:"row"},ye={class:"col-md-5 text-center"},he={class:"col-md-3 text-end"},we={__name:"Setup",setup(l){const{t:a}=q(),d=f({}),e=f({}),s=f(!1);P(()=>{i()}),S(()=>{});async function i(){d.value=await h({command:"getParamsAttr"}),e.value=await h({command:"getIniParams"}),await A(),s.value=!0}async function r(){await document.confirmDialog(a("save"))&&(e.value=await h({command:"saveIniParams",allVars:e.value}),document.showToast(a("setup_saved")),await i())}async function m(){await document.confirmDialog(a("reset"))&&(e.value=await h({command:"restoreParams",allVars:e.value}),document.showToast(a("setup_reset")),await i())}return(p,U)=>(o(),n(y,null,[s.value?(o(),n("div",ce,[(o(!0),n(y,null,E(d.value,(u,c)=>(o(),n("div",{class:"row my-3",key:c},[t("div",pe,[t("div",null,[t("strong",{textContent:V(c)},null,8,ve)]),t("div",fe,[t("small",{textContent:V(u.label)},null,8,_e)])]),t("div",be,[u.type=="localpath"||u.type=="string"?(o(),w(Z,{key:0,modelValue:e.value[c],"onUpdate:modelValue":b=>e.value[c]=b,defaultValue:u.default,mutable:u.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):v("",!0),u.type=="boolean"?(o(),w(te,{key:1,modelValue:e.value[c],"onUpdate:modelValue":b=>e.value[c]=b,defaultValue:u.default,mutable:u.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):v("",!0),u.type=="array"?(o(),w(me,{key:2,modelValue:e.value[c],"onUpdate:modelValue":b=>e.value[c]=b,defaultValue:u.default,mutable:u.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):v("",!0)])]))),128)),t("div",Ve,[t("div",ye,[t("button",{class:"btn btn-sm btn-success",onClick:r},V(B(a)("save")),1)]),t("div",he,[t("button",{class:"btn btn-sm btn-danger",onClick:m},V(B(a)("reset")),1)])])])):v("",!0),C(D)],64))}},$e=[T,N,I,F,K,Q,j,z,H,G,Y],_=L(we);$e.forEach(l=>{_.component(l.name,l)});_.use(O,{theme:{preset:R,options:{cssLayer:{name:"primevue",order:"theme, base, primevue"}}}});_.use(W);_.use(T);_.use(X);_.mount("#setup");
