import{K as C,M as k,l as o,p as n,x as g,y as x,q as t,D as M,s as f,H as U,z as p,F as y,N as B,U as E,r as _,C as P,u as N,ae as h,n as q,J as A,E as w,v as S,_ as D,Z as I,$ as T,a0 as L,a1 as F,a2 as J,a3 as K,a4 as O,a5 as z,a6 as H,a7 as Q,a8 as Z,a9 as j,aa as G,ab as R}from"./translate-ACaeD73l.js";import{s as W}from"./index--tihzQqz.js";import{s as X}from"./index-pJ5qO2LS.js";const Y=["disabled"],ee={__name:"EditString",props:C({defaultValue:{type:String,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=k(l,"modelValue");return(i,e)=>(n(),o("div",null,[g(t("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":e[0]||(e[0]=s=>a.value=s),disabled:!l.mutable},null,8,Y),[[x,a.value]])]))}},te={key:0},ae={__name:"EditBoolean",props:C({defaultValue:{type:Boolean,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=k(l,"modelValue");return(i,e)=>{const s=M("ToggleSwitch");return n(),o(y,null,[t("div",null,[U(s,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=r=>a.value=r),disabled:!l.mutable},null,8,["modelValue","disabled"])]),l.mutable?(n(),o("div",te,[t("small",null,p(l.defaultValue),1)])):f("",!0)],64)}}},le={style:{display:"inline-block"}},se={__name:"DeleteButton",props:{action:Function},setup(l){B(()=>{window.addEventListener("keydown",a)}),E(()=>{window.removeEventListener("keydown",a)});function a(d){d.key==="Escape"&&(e.value=!1,s.value=!1)}const i=l,e=_(!1),s=_(!1);async function r(){if(e.value&&s.value){i.action(),e.value=!1,s.value=!1;return}e.value=!0,setTimeout(()=>{s.value=!0},500)}return(d,m)=>(n(),o("div",le,[e.value?(n(),o("button",{key:0,onClick:m[0]||(m[0]=v=>e.value=!e.value),class:"fas fa-times btn btn-sm"})):f("",!0),t("button",{onClick:r,class:"fas fa-trash btn btn-sm"})]))}},ne={class:"col-12"},oe={class:"input-group input-group-sm"},ue=["onUpdate:modelValue","disabled"],re={class:"row my-1"},ie={class:"col-12"},de={class:"input-group input-group-sm"},me=["disabled"],ce={__name:"EditArray",props:C({defaultValue:{type:Array,required:!0},mutable:{type:Boolean,required:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(l){const a=k(l,"modelValue");function i(r){a.value.splice(r,1)}function e(){s.value.trim()&&(a.value.push(s.value),s.value="")}const s=_("");return(r,d)=>(n(),o(y,null,[(n(!0),o(y,null,P(a.value,(m,v)=>(n(),o("div",{key:v,class:"row my-1"},[t("div",ne,[t("div",oe,[g(t("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":$=>a.value[v]=$,disabled:!l.mutable},null,8,ue),[[x,a.value[v]]]),U(se,{action:()=>i(v)},null,8,["action"])])])]))),128)),t("div",re,[t("div",ie,[t("div",de,[g(t("input",{type:"text",class:"form-control form-sm","onUpdate:modelValue":d[0]||(d[0]=m=>s.value=m),disabled:!l.mutable},null,8,me),[[x,s.value]]),t("button",{class:"btn btn-sm fas fa-plus pointer",onClick:d[1]||(d[1]=m=>e())})])])])],64))}},pe={key:0},ve={class:"col-3"},fe=["textContent"],_e={style:{"line-height":"1"}},be=["textContent"],Ve={class:"col-md-5"},ye={class:"row"},$e={class:"col-md-5 text-center"},he={class:"col-md-3 text-end"},we={__name:"Setup",setup(l){const{t:a}=N(),i=_({}),e=_({}),s=_(!1);B(()=>{r()}),E(()=>{});async function r(){i.value=await h({command:"getParamsAttr"}),e.value=await h({command:"getIniParams"}),await q(),s.value=!0}async function d(){await document.confirmDialog(a("save"))&&(e.value=await h({command:"saveIniParams",allVars:e.value}),document.showToast(a("Saved")),await r())}async function m(){await document.confirmDialog(a("reset"))&&(e.value=await h({command:"restoreParams",allVars:e.value}),document.showToast(a("reseted")),await r())}return(v,$)=>(n(),o(y,null,[s.value?(n(),o("div",pe,[(n(!0),o(y,null,P(i.value,(u,c)=>(n(),o("div",{class:"row my-3",key:c},[t("div",ve,[t("div",null,[t("strong",{textContent:p(c)},null,8,fe)]),t("div",_e,[t("small",{textContent:p(u.label)},null,8,be)])]),t("div",Ve,[u.type=="localpath"||u.type=="string"?(n(),w(ee,{key:0,modelValue:e.value[c],"onUpdate:modelValue":V=>e.value[c]=V,defaultValue:u.default,mutable:u.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):f("",!0),u.type=="boolean"?(n(),w(ae,{key:1,modelValue:e.value[c],"onUpdate:modelValue":V=>e.value[c]=V,defaultValue:u.default,mutable:u.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):f("",!0),u.type=="array"?(n(),w(ce,{key:2,modelValue:e.value[c],"onUpdate:modelValue":V=>e.value[c]=V,defaultValue:u.default,mutable:u.mutable},null,8,["modelValue","onUpdate:modelValue","defaultValue","mutable"])):f("",!0)])]))),128)),t("div",ye,[t("div",$e,[t("button",{class:"btn btn-sm btn-success",onClick:d},p(S(a)("save")),1)]),t("div",he,[t("button",{class:"btn btn-sm btn-danger",onClick:m},p(S(a)("reset")),1)])])])):f("",!0),t("pre",null,"      "+p(JSON.stringify(e.value,null,2))+`
      `,1),$[0]||($[0]=A(" paramsAttr ",-1)),t("pre",null,"      "+p(JSON.stringify(i.value,null,2))+`
      `,1),U(D)],64))}},ge=[T,L,F,J,K,O,z,H,Q,X,W],b=I(we);ge.forEach(l=>{b.component(l.name,l)});b.use(Z,{theme:{preset:j,options:{cssLayer:{name:"primevue",order:"theme, base, primevue"}}}});b.use(G);b.use(T);b.use(R);b.mount("#setup");
