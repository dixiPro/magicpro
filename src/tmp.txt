Есть функция которая экспорирует всё

Нужно изменить ее.

На вход подается id статьи, которую нужно сохранить  + все дерево под ней

на вход получает id


 public function exportArticle()
    {
        $rows = Article::all();

        $data = $rows->map(function ($m) {
            $item = $m->only($m->getFillable());

            // Находим имя родителя
            $parentName = null;
            if ($m->parentId > 0) {
                $parentName = Article::where('id', $m->parentId)->value('name');
            }

            $item['parentName'] = $parentName;
            unset($item['parentId']);

            return $item;
        });

        $json = $data->toJson(JSON_PRETTY_PRINT | JSON_UNESCAPED_UNICODE);

        return new StreamedResponse(function () use ($json) {
            echo $json;
        }, 200, [
            'Content-Type' => 'application/json',
            'Content-Disposition' => 'attachment; filename="articles.json"',
        ]);
    }

